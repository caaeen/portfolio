import { useState, useRef } from 'react';
import splash from '../assets/icon/caen.png';
import sf from '../assets/sf/netflix.mp3';
import { useNavigate } from 'react-router-dom';

const Index = () => {
  const audioRef = useRef(null);
  const [play, setPlay] = useState(false);
  const [clicked, setClicked] = useState(false);
  const navigate = useNavigate();

  const handleClick = () => {
    if (!play && audioRef.current) {
      audioRef.current.play();
      setPlay(true);
      setClicked(true);

      const timeout = setTimeout(() => {
        navigate('/browse');
      }, 4000);

      return () => clearTimeout(timeout);
    }
    
  };

  return (
    <div
      onClick={handleClick}
      className="relative w-svw overflow-hidden min-h-svh flex justify-center items-center bg-primary"
    >
      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" className={`index sm:w-[40%] w-[80%] absolute transition-all duration-[2700ms] ease-in-out ${
          clicked ? 'scale-250 opacity-0 ' : 'opacity-100 scale-100'
        }`}
           width="594.000000pt" height="87.000000pt" viewBox="0 0 594.000000 87.000000"
           preserveAspectRatio="xMidYMid meet">
          
          <g transform="translate(0.000000,87.000000) scale(0.100000,-0.100000)"
          fill="#db1c27" stroke="none">
          <path d="M190 763 c-8 -3 -27 -17 -42 -31 -41 -38 -51 -105 -46 -321 3 -162 6
          -190 23 -218 37 -62 118 -77 198 -36 40 20 67 84 67 161 l0 62 -44 0 -44 0 -4
          -66 c-4 -69 -14 -84 -56 -84 -35 0 -42 36 -42 223 0 182 8 220 45 225 34 4 48
          -14 53 -67 l5 -51 43 0 44 0 0 50 c0 102 -51 161 -140 159 -25 0 -52 -3 -60
          -6z"/>
          <path d="M1373 754 c-58 -29 -82 -128 -47 -197 9 -18 49 -63 90 -102 65 -61
          74 -74 74 -106 0 -40 -14 -59 -45 -59 -30 0 -45 19 -45 57 0 32 -1 33 -45 33
          l-45 0 0 -51 c0 -45 4 -55 35 -86 35 -35 36 -35 105 -31 62 3 74 7 101 34 34
          34 46 88 34 150 -5 30 -24 55 -91 119 -74 72 -84 86 -84 117 0 66 67 82 85 21
          8 -31 12 -33 52 -33 40 0 43 2 43 26 0 43 -29 91 -65 108 -42 20 -111 20 -152
          0z"/>
          <path d="M2003 750 c-57 -34 -63 -60 -63 -250 0 -193 8 -228 61 -255 23 -13
          49 -16 96 -13 56 3 68 8 96 36 l32 32 3 190 c4 213 -2 235 -62 264 -47 22
          -123 21 -163 -4z m111 -66 c14 -5 16 -31 16 -178 0 -180 -4 -196 -45 -196 -41
          0 -45 16 -45 190 0 116 4 170 12 178 13 13 37 15 62 6z"/>
          <path d="M3832 753 c-56 -27 -62 -51 -62 -253 0 -200 6 -227 60 -255 17 -9 55
          -15 91 -15 56 0 64 3 95 34 32 32 34 38 34 100 l0 66 -45 0 -45 0 0 -47 c0
          -63 -9 -75 -51 -71 l-34 3 -3 174 c-3 184 1 201 43 201 30 0 43 -17 47 -65 3
          -39 4 -40 46 -43 l42 -3 0 53 c0 29 -6 64 -13 78 -27 54 -136 77 -205 43z"/>
          <path d="M440 460 l0 -300 34 0 c66 0 66 0 66 136 l0 124 55 0 55 0 0 -126 c0
          -111 2 -125 16 -120 9 3 31 6 50 6 l34 0 0 290 0 290 -50 0 -50 0 0 -125 0
          -125 -55 0 -55 0 0 125 0 125 -50 0 -50 0 0 -300z"/>
          <path d="M810 469 l0 -291 23 6 c12 3 34 6 50 6 l27 0 0 115 0 115 34 0 c19 0
          38 -6 43 -12 4 -7 10 -56 13 -108 l5 -95 50 -3 50 -3 -5 108 c-6 111 -16 146
          -47 157 -17 7 -17 8 0 18 44 24 62 143 33 213 -22 51 -58 65 -176 65 l-100 0
          0 -291z m174 195 c22 -21 22 -117 0 -138 -8 -9 -29 -16 -45 -16 l-29 0 0 85 0
          85 29 0 c16 0 37 -7 45 -16z"/>
          <path d="M1160 480 c0 -217 3 -280 13 -280 6 0 29 3 50 6 l37 7 0 273 0 274
          -50 0 -50 0 0 -280z"/>
          <path d="M1612 723 c3 -38 3 -38 51 -41 l47 -3 0 -225 0 -224 50 0 50 0 0 225
          0 225 50 0 50 0 0 40 0 40 -151 0 -150 0 3 -37z"/>
          <path d="M2290 500 l0 -260 50 0 50 0 0 99 0 99 61 4 c54 4 66 9 90 36 27 30
          29 38 29 120 0 137 -29 162 -185 162 l-95 0 0 -260z m178 105 c3 -76 -8 -95
          -55 -95 -22 0 -23 3 -23 86 l0 85 38 -3 37 -3 3 -70z"/>
          <path d="M2610 505 l0 -255 50 0 50 0 0 105 0 105 53 0 52 0 -2 -105 -2 -105
          55 0 54 0 0 255 0 255 -56 0 -55 0 2 -107 2 -108 -52 -3 -51 -3 0 110 0 111
          -50 0 -50 0 0 -255z"/>
          <path d="M2980 505 l0 -255 130 0 130 0 0 35 0 34 -77 3 -78 3 -3 73 -3 72 66
          0 65 0 0 40 0 40 -65 0 -65 0 0 70 0 70 80 0 80 0 0 35 0 35 -130 0 -130 0 0
          -255z"/>
          <path d="M3300 505 l0 -255 50 0 50 0 0 100 0 100 28 0 c49 0 55 -11 61 -112
          l6 -93 48 -3 47 -3 0 59 c0 85 -17 164 -39 183 -18 15 -18 16 5 43 20 23 24
          38 24 97 0 39 -5 79 -11 91 -18 33 -70 48 -174 48 l-95 0 0 -255z m168 169 c8
          -2 12 -24 12 -63 0 -64 -12 -81 -59 -81 -20 0 -21 6 -21 80 l0 80 28 -6 c15
          -3 33 -7 40 -10z"/>
          <path d="M4175 738 c-3 -13 -23 -124 -45 -248 -22 -124 -42 -233 -44 -242 -4
          -15 3 -18 45 -18 44 0 49 2 49 23 0 58 9 67 66 67 49 0 54 -2 59 -25 17 -81
          11 -75 65 -75 49 0 49 0 44 28 -3 15 -24 135 -48 267 l-42 240 -72 3 c-67 3
          -72 2 -77 -20z m90 -198 c9 -58 19 -113 21 -122 5 -15 -2 -18 -38 -18 l-44 0
          20 125 c11 68 21 123 22 122 1 -1 9 -49 19 -107z"/>
          <path d="M4460 490 l0 -270 25 -2 c65 -4 60 -20 65 177 l5 180 50 -173 c27
          -95 52 -176 55 -181 3 -4 26 -11 53 -14 l47 -7 0 280 0 280 -45 0 -45 0 -1
          -147 -1 -148 -20 65 c-10 36 -30 102 -44 148 l-25 82 -59 0 -60 0 0 -270z"/>
          <path d="M4852 502 c-24 -141 -46 -267 -49 -279 -5 -21 -2 -23 41 -23 41 0 46
          3 51 25 18 85 11 78 68 71 28 -4 53 -9 55 -11 3 -2 7 -24 9 -48 l5 -45 47 -5
          c25 -3 48 -3 51 -1 4 4 -73 491 -87 552 -5 20 -11 22 -77 22 l-71 0 -43 -258z
          m147 -101 c1 -33 1 -33 -36 -26 -21 4 -39 8 -40 9 -1 1 7 56 17 121 11 66 20
          125 21 130 2 18 37 -199 38 -234z"/>
          <path d="M5172 473 l3 -288 89 -9 c114 -12 163 2 188 54 15 30 18 64 18 228 0
          217 -7 248 -62 282 -27 17 -50 20 -136 20 l-102 0 2 -287z m186 185 c8 -8 12
          -66 12 -194 0 -201 -2 -208 -62 -202 l-33 3 -3 203 -2 202 38 0 c21 0 43 -5
          50 -12z"/>
          <path d="M5595 748 c-6 -18 -95 -581 -92 -583 1 -1 21 -5 44 -9 l42 -6 6 37
          c13 74 12 73 70 73 l54 0 6 -47 c10 -73 10 -73 60 -73 38 0 45 3 45 19 0 11
          -20 149 -45 308 -25 158 -45 289 -45 290 0 2 -32 3 -70 3 -48 0 -72 -4 -75
          -12z m104 -377 c1 -33 1 -34 -35 -28 -20 3 -38 8 -40 9 -2 2 6 62 16 133 11
          72 20 135 21 140 2 16 37 -217 38 -254z"/>
          </g>
       </svg>
      <audio ref={audioRef} src={sf} />
    </div>
  );
};

export default Index;
